<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
<script>
/*	var app = angular.module('app',[]);
	app.directive('server',function(){
		return {
			controller: function(){
				this.log = function(msg){
					console.log(msg);
				};
			}
		}
	});

	app.directive('client', function(){
		return {
			require: '^server',
			link: function($scope, $ele, $attrs, serverCtrl){
				serverCtrl.log("Hi");

			}
		}
	});
*/
/*	var app =angular.module('app',[]);
	app.directive('server',function(){
		return {
			link: function($scope, $ele, $attrs){
				$scope.$on("message", function(e,msg){
					console.log(msg);
				});
			}
		};
	});
	app.directive('client',function(){
		return {
			link: function($scope,$ele, $attrs){
				$scope.$emit("message", "HI");
			}
		};
	});
*/
/*	var app = angular.module('app',[]);
	app.directive('server', function(){
		return {
			link: function($scope, $ele, $attrs){
				$attrs.$observe("message", function(m){
					console.log(m);
				});
			}
		}
	});
	app.directive('client', function(){
		return {
			link: function($scope, $ele, $attrs){
				$attrs.message = "HI!";

			}
		}
	});
*/
	var app = angular.module('app',[]);
	app.directive('server',function(){
		return {
			compile: function(){
				return {
					pre: function($scope, $ele, $attr){
						$scope.$on("message", function(e, msg){
							console.log(msg);
						})
					}
				}
			}
		}
	});
	app.directive('client', function(){
		return {
			link: function($scope, $ele, $attr){
				$scope.$emit("message", "Hiiii");
			}
		}
	});	
</script>
  <meta charset="utf-8">
  <title>Dir Comm</title>
</head>
<body ng-app="app">
  <div server >
  	<div client>
	</div>
  </div>
</body>
</html>
